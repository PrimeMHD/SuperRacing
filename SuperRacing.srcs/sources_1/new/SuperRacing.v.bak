`timescale 1ns / 1ps
`include "Definition.h"
module SuperRacing(
	input clk100mhz,
	input [3:0]BasicSpeed,
	input SW,
	input SIA,
	input SIB,
	output HSync,     
	output VSync,    
    output [3:0] OutBlue,
    output [3:0] OutGreen, 
    output [3:0] OutRed,         
	output [3:0] seg_select,
	output [6:0] seg_LED
    );
	wire [1:0]Direction;
	wire [1:0]game_state;
	wire rst;
	wire [10:0]user_posx;
	wire [10:0]user_posy;
	wire [10:0]roadiniline;
	wire [10:0]enemy1_posx;
	wire [10:0]enemy1_posy;
	wire [10:0]enemy2_posx;
	wire [10:0]enemy2_posy;
	wire [10:0]pixel_x;
	wire [10:0]pixel_y;
	wire [11:0]rgb_from_rom;
	wire [18:0]address_sig;
	
	CentralController CCINST(.clk100mhz(clk100mhz),     //è¾“å…¥
											.BasicSpeed(BasicSpeed),		 //è¾“å…¥
											.SW(SW),								 //è¾“å…¥
											.Direction(Direction),              //è¾“å…¥
											.game_state(game_state),		 //è¾“å‡º
											.rst(rst),  
											.vs(VSync),                               //è¾“å‡º
											//.address_sig(address_sig),      //è¾“å…¥
											.user_posx(user_posx),			//è¾“å‡º
											.user_posy(user_posy),			//è¾“å‡º
											.enemy1_posx(enemy1_posx),//è¾“å‡º
											.enemy1_posy(enemy1_posy),//è¾“å‡º
											.enemy2_posx(enemy2_posx),//è¾“å‡º
											.enemy2_posy(enemy2_posy),//è¾“å‡º
											.roadiniline(roadiniline)
											);//ä¸­å¤®æ§åˆ¶å™¨æ¨¡ï¿??
							
	VGA VGA_INST(.clk100mhz(clk100mhz) ,   		//è¾“å…¥
	                        .sys_rst_n(1),    //WHEN 1, DISPLAY
							.qsig(rgb_from_rom),							//è¾“å…¥
							.HSync(HSync),    			  		//è¾“å‡º
							.VSync(VSync),				 		//è¾“å‡º	
							.address_sig(address_sig),		//è¾“å‡º
							.OutRed(OutRed),
							.OutGreen(OutGreen),
							.OutBlue(OutBlue),
							//.rgb({OutRed[3:0],OutGreen[3:0],OutBlue[3:0]}),//è¾“å‡º
							.pixel_x(pixel_x),  //è¾“å‡º
							.pixel_y(pixel_y)  //è¾“å‡º
							
						);
	RAM_MANAGER RMINST(.clk_rmg(clk100mhz),
											//.rst(),
											.game_state(game_state),
											.user_posx(user_posx),
											.user_posy(user_posy),
											.address_sig(address_sig),
											.roadiniline(roadiniline),
											.enemy1_posx(enemy1_posx),
											.enemy1_posy(enemy1_posy),
											.enemy2_posx(enemy2_posx),
											.enemy2_posy(enemy2_posy),
											.pixel_x(pixel_x),
											.pixel_y(pixel_y),
											.rgb(rgb_from_rom)//è¾“å‡º
											);
	//SCORE_RECODER SRINST();ç§¯åˆ†æ¨¡å—
	INPUTSIG_CONVERTOR ICINST(.SIA(SIA),.SIB(SIB),.vs(VSync),.Direction(Direction));//è¾“å…¥ä¿¡å·è½¬æ¢æ¨¡å—
endmodule
